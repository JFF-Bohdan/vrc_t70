from vrc_t70.crc import default_crc


def test_generates_correct_crc():
    test_cases = [
        (bytes([0x01, 0x07, 0x10, 0x20, 0x00, 0x04, 0xca, 0xfe, 0xba, 0xbe]), 0x32, ),
        (bytes([0x08, 0x01, 0x22, 0x33, 0x00]), 0x27),
        (bytes([0x08, 0x01, 0x22, 0x33, 0x00, 0x00]), 0xf0),
        (bytes([0x08, 0x01, 0x22, 0x33, 0xdd, 0x00]), 0x2b),
        (bytes([0x08, 0x07, 0x22, 0x33, 0x00]), 0x6c),
        (bytes([0x08, 0x07, 0x22, 0x33, 0x00, 0x04, 0xde, 0xad, 0xbe, 0xef]), 0x0b),
    ]
    for data, expected_crc in test_cases:
        crc = default_crc.default_vrc_t70_crc()(data)
        assert crc == expected_crc
